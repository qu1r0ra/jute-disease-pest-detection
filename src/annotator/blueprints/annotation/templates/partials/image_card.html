<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start animate-fade-in">
    <!-- Left: Image View -->
    <div class="bg-slate-800 p-4 rounded-2xl border border-slate-700 shadow-2xl">
        <img src="/images/{{ image.id }}" alt="Annotate this" class="w-full h-auto rounded-xl object-contain aspect-square bg-slate-900">
        <div class="mt-4 flex justify-between text-xs text-slate-500">
            <span>ID: {{ image.id }}</span>
            <span>Path: {{ image.filepath }}</span>
        </div>
    </div>

    <!-- Right: Controls -->
    <div class="space-y-6">
        <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-xl">
            <h3 class="text-xl font-bold mb-4">Model Output</h3>
            <div class="space-y-3">
                <div class="flex justify-between items-center p-3 bg-slate-900 rounded-lg border border-slate-700">
                    <span class="text-green-400 font-bold">{{ image.model_prediction or "Pending..." }}</span>
                    <span class="text-slate-500 font-mono">{{ (image.confidence * 100)|round(1) if image.confidence else 0 }}%</span>
                </div>
            </div>
        </div>

        <div class="bg-slate-800 p-6 rounded-2xl border border-slate-700 shadow-xl">
            <h3 class="text-xl font-bold mb-4">Select Label</h3>
            <form hx-post="/save_label/{{ image.id }}" hx-target="#annotation-container" class="grid grid-cols-2 gap-3">
                {% for class_name in classes %}
                <button type="submit" name="label" value="{{ class_name }}"
                        class="p-3 bg-slate-900 hover:bg-green-600 hover:text-white rounded-xl border border-slate-700 transition-all text-sm text-left">
                    <span class="text-slate-500 mr-2">{{ loop.index }}</span> {{ class_name }}
                </button>
                {% endfor %}
            </form>
        </div>
    </div>
</div>
